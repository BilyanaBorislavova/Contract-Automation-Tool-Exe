<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/style.css">
    <title>Contract Automation Tool</title>
</head>
<body>
    <link href='https://fonts.googleapis.com/css?family=Raleway:400,500,300' rel='stylesheet' type='text/css'>
    <div id="jsonButton">
	<div class="btn-text" onclick="openJSON()">View JSON</div>
    <div class="modal">
        <div class="close-button" onclick="closeJSONButton()">x</div>
        <h1>Contract Automation Tool</h1>
        <div class="scrollable">
        {{#each input}}
            {{#each this}}
                <div><strong>{{@key}}</strong>: {{this}}</div>
            {{/each}}
            <br/>
        {{/each}}
        </div>
    </div>
    </div>
    <div id="mainButton">
	<div class="btn-text" onclick="openForm()">File Names</div>
	<div class="modal">
        <div class="close-button" onclick="closeForm()">x</div>
        <h1>Contract Automation Tool</h1>
        <div class="form-title">Select File Names</div>
        <form action="/generateWordFile" method="POST" class="formGenerate" enctype="multipart/form-data">
		<div class="input-group">
            <label for="name">Template File Name:
			<input type="file" id="name" name="templateFile" class="input-file" />
            </label>
        </div>
            <div class="input-group">
                    <input type="text" id="name" name="folderName" onblur="checkInput(this)" />
                    <label for="name">Folder Name To Generate Files In:</label>
                </div>
        <button class="form-button">Click here to generate files</button>
    </form>
	</div>
</body>
<script>
var button = document.getElementById('mainButton');
var jsonButton = document.getElementById('jsonButton');

var openForm = function() {
	button.className = 'active';
};

var openJSON = function() {
    jsonButton.className = 'active';
}

var checkInput = function(input) {
	if (input.value.length > 0) {
		input.className = 'active';
	} else {
		input.className = '';
	}
};

var closeForm = function() {
	button.className = '';
};

var closeJSONButton = function() {
    jsonButton.className = '';
}

document.addEventListener("keyup", function(e) {
	if (e.keyCode == 27 || e.keyCode == 13) {
		closeForm();
	}
});
</script>
</html>